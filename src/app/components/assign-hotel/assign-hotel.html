<div class="assign-container">
  <mat-card class="assign-card">
    <mat-card-header>
      <mat-card-title>Assign Hotel Management</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="assignForm" (ngSubmit)="assignHotel()">
        
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select User</mat-label>
          <mat-select formControlName="userId">
            <mat-option *ngFor="let user of users" [value]="user.id">
              {{ user.firstName }} {{ user.lastName }} â€” ({{ user.roles.join(', ') }})
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Select Hotel</mat-label>
          <mat-select formControlName="hotelId">
            <mat-option *ngFor="let hotel of hotels" [value]="hotel.id">
              {{ hotel.name }} ({{ hotel.city }})
            </mat-option>
          </mat-select>
          <mat-hint *ngIf="hotels.length === 0" class="warning-text">
            No hotels available in the database.
          </mat-hint>
        </mat-form-field>

        <div *ngIf="errorMessage" class="error-msg">
          {{ errorMessage }}
        </div>

        <div class="actions">
          <button mat-raised-button color="primary" type="submit" 
                  [disabled]="assignForm.invalid || loading">
            {{ loading ? 'Assigning...' : 'Assign Hotel' }}
          </button>
        </div>
        
      </form>
    </mat-card-content>
  </mat-card>
</div>